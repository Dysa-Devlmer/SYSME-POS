# SYSME Backend Environment Configuration

# Server Configuration
NODE_ENV=development
PORT=3001
API_VERSION=v1

# Database Configuration
# SQLite (Recommended for restaurants)
DATABASE_URL=sqlite:./data/sysme.db
DB_TYPE=sqlite

# MySQL (Alternative - only if needed for 10+ terminals)
DB_HOST=localhost
DB_PORT=3306
DB_NAME=sysme_pos
DB_USER=root
DB_PASS=TuContrase√±aSegura123!
DB_POOL_MIN=2
DB_POOL_MAX=10

# JWT Configuration
JWT_SECRET=TuClaveSecretaMuyLargaYSeguraDeAlMenos64CaracteresParaProduccion2024!
JWT_EXPIRES_IN=24h
JWT_REFRESH_EXPIRES_IN=7d

# Redis Configuration (for caching and sessions)
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_DB=0

# Email Configuration (for notifications)
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_SECURE=false
SMTP_USER=your-email@gmail.com
SMTP_PASS=your-app-password

# File Upload Configuration
UPLOAD_MAX_SIZE=5242880
UPLOAD_ALLOWED_TYPES=jpg,jpeg,png,gif,pdf
UPLOAD_DIR=uploads

# Rate Limiting
RATE_LIMIT_WINDOW=15
RATE_LIMIT_MAX_REQUESTS=100

# Logging
LOG_LEVEL=info
LOG_FILE=logs/app.log

# Security
BCRYPT_ROUNDS=12
CORS_ORIGIN=http://localhost:5173,http://127.0.0.1:23847,http://localhost:23847
SESSION_SECRET=OtraClaveSecretaDiferenteParaSesiones64Caracteres2024!

# Business Configuration
COMPANY_NAME=SYSME TPV
COMPANY_EMAIL=admin@sysme.local
DEFAULT_CURRENCY=CLP
DEFAULT_LANGUAGE=es
DEFAULT_TIMEZONE=America/Santiago

# Payment Gateway (optional)
STRIPE_SECRET_KEY=sk_test_...
STRIPE_PUBLIC_KEY=pk_test_...

# External APIs
GOOGLE_MAPS_API_KEY=your_google_maps_key
ANALYTICS_TRACKING_ID=your_analytics_id

# Feature Flags
ENABLE_2FA=true
ENABLE_AUDIT_LOG=true
ENABLE_EMAIL_NOTIFICATIONS=true
ENABLE_SMS_NOTIFICATIONS=false

# Kitchen Printer Configuration
KITCHEN_PRINTER_ENABLED=true
KITCHEN_PRINTER_TYPE=file
# Types: file, network, usb, escpos
KITCHEN_PRINTER_PATH=/tmp/kitchen_tickets
# For file type - directory to save tickets
KITCHEN_PRINTER_IP=192.168.1.100
# For network type - printer IP address
KITCHEN_PRINTER_PORT=9100
# For network type - printer port (usually 9100 for ESC/POS)
KITCHEN_PRINTER_INTERFACE=tcp
# For network type - tcp or serial

# Receipt Printer Configuration
RECEIPT_PRINTER_ENABLED=true
RECEIPT_PRINTER_TYPE=file
RECEIPT_PRINTER_PATH=/tmp/receipts

# ============================================================================
# SYSME POS v2.1 - New Services Configuration
# ============================================================================

# ----------------------------------------------------------------------------
# Email/SMS Service Configuration
# ----------------------------------------------------------------------------
EMAIL_PROVIDER=smtp
SENDGRID_API_KEY=SG.xxxxxxxxxxxxx
SMS_PROVIDER=twilio
TWILIO_ACCOUNT_SID=ACxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
TWILIO_AUTH_TOKEN=your-twilio-auth-token
TWILIO_FROM_NUMBER=+1234567890
EMAIL_FROM=noreply@sysme.com
EMAIL_FROM_NAME=SYSME POS

# Notification Settings
NOTIFICATION_QUEUE_ENABLED=true
NOTIFICATION_RETRY_ATTEMPTS=3
NOTIFICATION_RETRY_DELAY=5000
NOTIFICATION_RATE_LIMIT_EMAIL=100
NOTIFICATION_RATE_LIMIT_SMS=50

# ----------------------------------------------------------------------------
# Webhook Service Configuration
# ----------------------------------------------------------------------------
WEBHOOK_SECRET_KEY=your-webhook-secret-key-32-characters-minimum
WEBHOOK_TIMEOUT=10000
WEBHOOK_RETRY_ATTEMPTS=3
WEBHOOK_RETRY_DELAY=5000
WEBHOOK_MAX_CONCURRENT=10
WEBHOOK_RATE_LIMIT=60

# ----------------------------------------------------------------------------
# Configuration Manager
# ----------------------------------------------------------------------------
CONFIG_PATH=./src/config
CONFIG_HOT_RELOAD=true

# ----------------------------------------------------------------------------
# Advanced Logger Configuration
# ----------------------------------------------------------------------------
LOG_LEVEL=info
# Options: error, warn, info, http, debug
LOG_FORMAT=json
# Options: json, simple
LOG_DIRECTORY=./logs
# Directory to store log files
LOG_MAX_FILES=30
# Maximum number of log files to keep (rotation)
LOG_MAX_SIZE=20m
# Maximum size of each log file (k, m, g)
LOG_CONSOLE=true
# Enable console logging
LOG_FILE=true
# Enable file logging
LOG_ELASTICSEARCH=false
# Enable Elasticsearch integration (requires setup)
LOG_WEBHOOK_URL=
# Optional webhook for log notifications
CONFIG_ENCRYPTION=false
CONFIG_ENCRYPTION_KEY=your-config-encryption-key-64-characters-long-for-aes256
CONFIG_STRICT_VALIDATION=false

# ----------------------------------------------------------------------------
# Performance Optimizer
# ----------------------------------------------------------------------------
PERF_MONITORING_INTERVAL=5000
PERF_AUTO_OPTIMIZE=true
PERF_PROFILING_ENABLED=true
PERF_PROFILING_SAMPLE_RATE=0.1

# ----------------------------------------------------------------------------
# i18n (Internationalization)
# ----------------------------------------------------------------------------
DEFAULT_LOCALE=es
SUPPORTED_LOCALES=es,en,pt,fr
I18N_HOT_RELOAD=true

# ----------------------------------------------------------------------------
# RBAC (Role-Based Access Control)
# ----------------------------------------------------------------------------
RBAC_CACHE_ENABLED=true
RBAC_CACHE_TTL=300000
RBAC_AUDIT_ENABLED=true
RBAC_STRICT_MODE=false

# ----------------------------------------------------------------------------
# Backup Configuration
# ----------------------------------------------------------------------------
BACKUP_ENABLED=true
BACKUP_PATH=./backups
BACKUP_SCHEDULE=0 2 * * *
BACKUP_RETENTION_DAYS=30
BACKUP_ENCRYPT=true
BACKUP_ENCRYPTION_KEY=your-backup-encryption-key-32-chars

# ----------------------------------------------------------------------------
# Feature Flags v2.1
# ----------------------------------------------------------------------------
FEATURE_EMAIL_ENABLED=true
FEATURE_SMS_ENABLED=true
FEATURE_WEBHOOKS_ENABLED=true
FEATURE_PERFORMANCE_MONITORING=true
FEATURE_HOT_RELOAD=true
PUSH_ENABLED=false
VAPID_PUBLIC_KEY=
VAPID_PRIVATE_KEY=

# ============================================================================
# IMPORTANT: Update these values for production!
# ============================================================================# CORS updated
